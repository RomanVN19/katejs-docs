# KateJS

## Идея

Приложения для бизнеса (CRM, PM, системы учета и т.п.) имеют похожую структуру,
а при их разработке приходится выполнять множество однотипных задач
(работа с СУБД, разработка интерфеса и т.п.).

Данный фреймворк разрабатывается для того, чтобы избавить разработчика
от рутины, позволить заниматься реализацией только бизнес логики и
тем самым ускорить и упростить процесс создания бизнес ПО.


## Цели

Фреймворк KateJS стремится к тому, чтобы разработка бизнес ПО была:

1. Быстрой.

Разработчик должен тратить основное время на бизнес логику.
Временные затраты на сопутствующие вопросы (верстка, работа с СУБД и т.п.)
должны быть сведены к нулю или минимальны.

2. Простой.

Порог вхождения должен быть небольшой.
Разработчик должен уметь решать базовые задачи через пару часов изучения фреймворка.

3. Удобной.

Фреймворк должен позволять разбивать конечную программу на блоки, выделять их в переиспользуемые модули,
использовать чужие разработки и публиковать свои.


## Концепция

Приложения на фреймворке KateJS разрабатываются на языке `Javascript` и являются
клиент-серверными web-приложениями: сервер работает на платформе `Node.JS`,
для использования клиента требуется устройство (компьютер, планшет, смартфон)
 с одним из современных браузеров.


### Клиент

Интерфейс описывается `Клиентским приложением` и представляет собой рабочую облась по центру, где отображаются различные `Формы`, и меню слева.

`Клиентское приложение` представляет собой совокупность форм и меню.

Каждая `Форма` описывается классом в синтаксисе ES6 и представляет собой
набор элементов (поле воода, переключатель, таблица и т.п.),
который задается в декларативном стиле в конструкторе
и кода, описывающего ее поведение, который задается в методах класса.


### Сервер

Сервер описывается `Серверным приложением` и представляет собой набор `Сущностей`.

`Сущность` - структурная единица,
описывающая работу с однотипными объектами предметной области ("Товары", "Контрагенты")
или реализующая некоторый функционал ("Отчет по продажам").

`Сущности` описываются классом в синтаксисе ES6 и создаются в единственном экземпляре
при запуске приложения. В контексте данной особенности в описании не применяются
термины `класс` и `экземпляр` по отношению к `Сущности`.

`Сущность` представляет собой набор методов, которые используются со стороны клиента
или из других `Сущностей`.

`Сущность` наследуется от базового класса, который предоставляет методы работы
с СУБД.

### API

Все запросы от клиента к серверу выполняются единым методом `POST`
по единому адресу  `/api` с передачей параметров и приеме ответа в `JSON` формате.

В запросе к API указывается сущность, ее метод, который надо вызвать и параметры,
которые нужно передать:
````
{
  entity: "Task",
  method: "get",
  data: {
    id: '123'
  }
}
````

### Приложения

`Приложения` (и клиентское и серверное) по сути являются модулями.
Любое разработанное приложение (одно или несколько)
можно использовать как основу для другого.
Можно создать новое приложение комбинацией из существующих
или разработать модификацию или надстройку к существующему приложению
не меняя его код напрямую.

Так как в Javascript отсутствует возможность множественного наследования,
`Приложения` оформляются комбинированием подхода классов и миксинов.

Приложение можно оформить в обычный `npm` пакет, что возможности
использования его другими разработчиками с автоматическим разрешением зависимостей.


## Компоненты фреймворка

Сервер использует `koa` в качестве http сервера и ORM `Sequelize` для работы с СУБД.
Основной используемой базой данных является `MySQL`.

Интерфейс строится на [React](https://reactjs.org/), используя стилизацию [material-kit-react](https://github.com/creativetimofficial/material-kit-react) компонентов [material-ui](https://material-ui.com/)
